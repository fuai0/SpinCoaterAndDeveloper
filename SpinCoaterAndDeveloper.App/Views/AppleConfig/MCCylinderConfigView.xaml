<UserControl
    x:Class="SpinCoaterAndDeveloper.App.Views.MCCylinderConfigView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:bp="clr-namespace:PrismAutomationPlatformExt;assembly=PrismAutomationPlatformExt"
    xmlns:cylinderModel="clr-namespace:SpinCoaterAndDeveloper.Shared.Models.CylinderModels;assembly=SpinCoaterAndDeveloper.Shared"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:listboxEx="clr-namespace:PrismAutomationPlatformExt;assembly=PrismAutomationPlatformExt"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:vc="clr-namespace:ValueConverters;assembly=ValueConverters"
    xmlns:viewmodels="clr-namespace:SpinCoaterAndDeveloper.App.ViewModels"
    d:DataContext="{d:DesignInstance Type=viewmodels:MCCylinderConfigViewModel}"
    d:DesignHeight="700"
    d:DesignWidth="1280"
    prism:ViewModelLocator.AutoWireViewModel="True"
    mc:Ignorable="d">
    <UserControl.Resources>
        <bp:BindingProxy x:Key="BindingProxy" Data="{Binding}" />
        <ObjectDataProvider
            x:Key="ValveTypeEnum"
            MethodName="GetValues"
            ObjectType="{x:Type sys:Enum}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="cylinderModel:ValveType" />
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
        <ObjectDataProvider
            x:Key="SensorTypeEnum"
            MethodName="GetValues"
            ObjectType="{x:Type sys:Enum}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="cylinderModel:SensorType" />
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
        <vc:EnumToBoolConverter x:Key="EnumToBoolConverter" />
    </UserControl.Resources>
    <materialDesign:DialogHost>
        <materialDesign:DrawerHost IsRightDrawerOpen="{Binding IsRightDrawerOpen}">
            <materialDesign:DrawerHost.RightDrawerContent>
                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                    <DockPanel
                        Width="300"
                        Margin="10,10"
                        VerticalAlignment="Top"
                        LastChildFill="False">
                        <DockPanel.Resources>
                            <Style BasedOn="{StaticResource MaterialDesignTextBox}" TargetType="{x:Type TextBox}">
                                <Setter Property="Margin" Value="5,5,5,0" />
                                <Setter Property="Padding" Value="0" />
                            </Style>
                            <Style TargetType="TextBlock">
                                <Setter Property="Margin" Value="5,5,5,0" />
                            </Style>
                        </DockPanel.Resources>
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource PleaseEnterTheCylinderName}" />
                        <TextBox DockPanel.Dock="Top" Text="{Binding NewCylinder.Name}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource Number:}" />
                        <TextBox DockPanel.Dock="Top" Text="{Binding NewCylinder.Number}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource EnterENName}" />
                        <TextBox DockPanel.Dock="Top" Text="{Binding NewCylinder.ENName}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource EnterVNName}" />
                        <TextBox DockPanel.Dock="Top" Text="{Binding NewCylinder.VNName}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource OriginTimeout}" />
                        <TextBox
                            DockPanel.Dock="Top"
                            Text="{Binding NewCylinder.OriginPointTimeout}"
                            ToolTip="ms" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource Moving-pointTimeout}" />
                        <TextBox
                            DockPanel.Dock="Top"
                            Text="{Binding NewCylinder.MovingPointTimeout}"
                            ToolTip="ms" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource SolenoidValveType}" />
                        <ComboBox
                            Margin="5,5,5,0"
                            DockPanel.Dock="Top"
                            ItemsSource="{Binding Source={StaticResource ValveTypeEnum}}"
                            Text="{Binding NewCylinder.ValveType}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource SensorNumberType}" />
                        <ComboBox
                            Margin="5,5,5,0"
                            DockPanel.Dock="Top"
                            ItemsSource="{Binding Source={StaticResource SensorTypeEnum}}"
                            Text="{Binding NewCylinder.SensorType}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource Groups}" />
                        <ComboBox
                            Margin="5,5,5,0"
                            DockPanel.Dock="Top"
                            IsEditable="True"
                            ItemsSource="{Binding CylinderGroupCollection}"
                            Text="{Binding NewCylinder.Group}" />
                        <Button
                            Margin="5,5,5,0"
                            Command="{Binding AddCylinderCommand}"
                            Content="{DynamicResource AddCylinder}"
                            DockPanel.Dock="Top" />
                    </DockPanel>
                </ScrollViewer>
            </materialDesign:DrawerHost.RightDrawerContent>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="4*" />
                </Grid.ColumnDefinitions>
                <Grid Margin="0,0,2,0" Background="{StaticResource AppleHeavyBackGroundBrush}">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <ListBox
                        DisplayMemberPath="Name"
                        ItemsSource="{Binding CylinderCollection}"
                        SelectedItem="{Binding CurrentSelectCylinder}" />
                    <StackPanel Grid.Row="1" Margin="0,8,0,0">
                        <Grid Margin="4,0,4,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="4*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Margin="0,0,2,0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="14"
                                Text="{DynamicResource FilterGroup}" />
                            <ComboBox
                                x:Name="GroupSelect"
                                Grid.Column="1"
                                Margin="2,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                ItemsSource="{Binding CylinderGroupCollection}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding GroupChangeCommand}" CommandParameter="{Binding ElementName=GroupSelect, Path=SelectedItem}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </ComboBox>
                        </Grid>
                        <UniformGrid Margin="4,8,4,0" Columns="2">
                            <Button
                                Margin="0,0,2,0"
                                Padding="0"
                                Command="{Binding ShowAllCylinderCommand}"
                                Content="{DynamicResource ShowAllCylinders}" />
                            <Button
                                Margin="2,0,0,0"
                                Padding="0"
                                Command="{Binding AddCylinderCfgCommand}"
                                Content="{DynamicResource AddCylinder}" />
                        </UniformGrid>
                        <UniformGrid Margin="4,8,4,0" Columns="2">
                            <Button
                                Margin="0,0,2,0"
                                Padding="0"
                                Command="{Binding DeleteCylinderCommand}"
                                Content="{DynamicResource RemoveCylinder}"
                                Foreground="{StaticResource SecondaryAccentForegroundBrush}" />
                        </UniformGrid>
                        <UniformGrid Margin="4,8,4,8" Columns="2">
                            <Button
                                Margin="0,0,2,0"
                                Padding="0"
                                Command="{Binding SaveSelectedCylinderCommand}"
                                Content="{DynamicResource SaveCheck}" />
                            <Button
                                Margin="2,0,0,0"
                                Padding="0"
                                Command="{Binding SaveAllCylindersCommand}"
                                Content="{DynamicResource Save}" />
                        </UniformGrid>
                    </StackPanel>
                </Grid>
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Border
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="2,0,0,2"
                        Background="{StaticResource AppleHeavyBackGroundBrush}"
                        CornerRadius="0">
                        <DataGrid
                            materialDesign:DataGridAssist.CellPadding="10 2 10 2"
                            materialDesign:DataGridAssist.ColumnHeaderPadding="10 2 10 2"
                            materialDesign:DataGridAssist.SelectedCellBorderBrush="Transparent"
                            AutoGenerateColumns="False"
                            Background="{StaticResource AppleHeavyBackGroundBrush}"
                            CanUserAddRows="False"
                            CanUserSortColumns="False"
                            HeadersVisibility="All"
                            IsReadOnly="True"
                            ItemsSource="{Binding CylinderCollection}"
                            RowHeaderWidth="1"
                            ScrollViewer.VerticalScrollBarVisibility="Visible"
                            SelectedItem="{Binding CurrentSelectCylinder}"
                            SelectionMode="Single">
                            <DataGrid.Resources>
                                <Style
                                    x:Key="DataGridColumnElementStyleDefine"
                                    BasedOn="{StaticResource MaterialDesignDataGridTextColumnStyle}"
                                    TargetType="{x:Type TextBlock}">
                                    <Setter Property="HorizontalAlignment" Value="Center" />
                                    <Setter Property="VerticalAlignment" Value="Center" />
                                </Style>
                            </DataGrid.Resources>
                            <DataGrid.Columns>
                                <DataGridTextColumn
                                    Binding="{Binding Number, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Number}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding Name, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Name}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding CNName, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource CNName}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding ENName, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource ENName}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding VNName, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource VNName}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding OriginPointTimeout, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource ConfigCylinderHeaderOriginTimeout}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding MovingPointTimeout, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource ConfigCylinderHeaderMoving-pointTimeout}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding ValveType, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}"
                                    IsReadOnly="True">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource ConfigCylinderHeaderSolenoidValveType}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding SingleValveOutputInfo.Name, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}"
                                    IsReadOnly="True">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Single-heaIO}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding DualValveOriginOutputInfo.Name, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}"
                                    IsReadOnly="True">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Double-headOrigin}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding DualValveMovingOutputInfo.Name, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}"
                                    IsReadOnly="True">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Double-headMoving}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding SensorType, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}"
                                    IsReadOnly="True">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource ConfigCylinderHeaderSensorNumberType}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding DelayTime, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}"
                                    IsReadOnly="True">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource ConfigCylinderHeaderDelayTime}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding SensorOriginInputInfo.Name, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}"
                                    IsReadOnly="True">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource ConfigCylinderHeaderSensorOrigin}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding SensorMovingInputInfo.Name, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}"
                                    IsReadOnly="True">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource ConfigCylinderHeaderSensorMoving}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding Group, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}"
                                    IsReadOnly="True">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Group}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Binding="{Binding Backup, Mode=OneWay}"
                                    EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}"
                                    ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Remark}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                    <ScrollViewer
                        Grid.Row="1"
                        Grid.Column="0"
                        Margin="2,2,2,0"
                        Background="{StaticResource AppleHeavyBackGroundBrush}">
                        <Grid>
                            <Grid.Resources>
                                <Style BasedOn="{StaticResource MaterialDesignTextBlock}" TargetType="TextBlock">
                                    <Setter Property="Margin" Value="0,0,5,0" />
                                    <Setter Property="HorizontalAlignment" Value="Right" />
                                    <Setter Property="VerticalAlignment" Value="Center" />
                                </Style>
                                <Style BasedOn="{StaticResource MaterialDesignTextBox}" TargetType="TextBox">
                                    <Setter Property="Margin" Value="5,0,0,0" />
                                    <Setter Property="VerticalAlignment" Value="Center" />
                                    <Setter Property="Block.TextAlignment" Value="Center" />
                                    <Setter Property="Padding" Value="0" />
                                </Style>
                            </Grid.Resources>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="3*" />
                                <ColumnDefinition Width="5*" />
                                <ColumnDefinition Width="1*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="1"
                                Text="{DynamicResource Number}" />
                            <TextBox
                                Grid.Row="0"
                                Grid.Column="2"
                                Text="{Binding CurrentSelectCylinder.Number}" />
                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="1"
                                Text="{DynamicResource Name}" />
                            <TextBox
                                Grid.Row="1"
                                Grid.Column="2"
                                Text="{Binding CurrentSelectCylinder.Name}" />
                            <TextBlock
                                Grid.Row="2"
                                Grid.Column="1"
                                Text="{DynamicResource CNName}" />
                            <TextBox
                                Grid.Row="2"
                                Grid.Column="2"
                                Text="{Binding CurrentSelectCylinder.CNName}" />
                            <TextBlock
                                Grid.Row="3"
                                Grid.Column="1"
                                Text="{DynamicResource ENName}" />
                            <TextBox
                                Grid.Row="3"
                                Grid.Column="2"
                                Text="{Binding CurrentSelectCylinder.ENName}" />
                            <TextBlock
                                Grid.Row="4"
                                Grid.Column="1"
                                Text="{DynamicResource VNName}" />
                            <TextBox
                                Grid.Row="4"
                                Grid.Column="2"
                                Text="{Binding CurrentSelectCylinder.VNName}" />
                            <TextBlock
                                Grid.Row="5"
                                Grid.Column="1"
                                Text="{DynamicResource ConfigCylinderHeaderOriginTimeout}" />
                            <TextBox
                                Grid.Row="5"
                                Grid.Column="2"
                                Text="{Binding CurrentSelectCylinder.OriginPointTimeout}" />
                            <TextBlock
                                Grid.Row="5"
                                Grid.Column="3"
                                HorizontalAlignment="Center"
                                Text="ms" />
                            <TextBlock
                                Grid.Row="6"
                                Grid.Column="1"
                                Text="{DynamicResource ConfigCylinderHeaderMoving-pointTimeout}" />
                            <TextBox
                                Grid.Row="6"
                                Grid.Column="2"
                                Text="{Binding CurrentSelectCylinder.MovingPointTimeout}" />
                            <TextBlock
                                Grid.Row="6"
                                Grid.Column="3"
                                HorizontalAlignment="Center"
                                Text="ms" />
                            <TextBlock
                                Grid.Row="7"
                                Grid.Column="1"
                                Text="{DynamicResource ConfigCylinderHeaderSolenoidValveType}" />
                            <ComboBox
                                Grid.Row="7"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                ItemsSource="{Binding Source={StaticResource ValveTypeEnum}}"
                                Text="{Binding CurrentSelectCylinder.ValveType}" />
                            <TextBlock
                                Grid.Row="8"
                                Grid.Column="1"
                                Text="{DynamicResource Single-heaIO}" />
                            <ComboBox
                                Grid.Row="8"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                DisplayMemberPath="Name"
                                IsEnabled="{Binding CurrentSelectCylinder.ValveType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleHeader}"
                                ItemsSource="{Binding IOOutputCollection}"
                                SelectedItem="{Binding CurrentSelectCylinder.SingleValveOutputInfo}" />
                            <TextBlock
                                Grid.Row="9"
                                Grid.Column="1"
                                Text="{DynamicResource Double-headOrigin}" />
                            <ComboBox
                                Grid.Row="9"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                DisplayMemberPath="Name"
                                IsEnabled="{Binding CurrentSelectCylinder.ValveType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=DualHeader}"
                                ItemsSource="{Binding IOOutputCollection}"
                                SelectedItem="{Binding CurrentSelectCylinder.DualValveOriginOutputInfo}" />
                            <TextBlock
                                Grid.Row="10"
                                Grid.Column="1"
                                Text="{DynamicResource Double-headMoving}" />
                            <ComboBox
                                Grid.Row="10"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                DisplayMemberPath="Name"
                                IsEnabled="{Binding CurrentSelectCylinder.ValveType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=DualHeader}"
                                ItemsSource="{Binding IOOutputCollection}"
                                SelectedItem="{Binding CurrentSelectCylinder.DualValveMovingOutputInfo}" />
                            <TextBlock
                                Grid.Row="11"
                                Grid.Column="1"
                                Text="{DynamicResource ConfigCylinderHeaderSensorNumberType}" />
                            <ComboBox
                                Grid.Row="11"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                ItemsSource="{Binding Source={StaticResource SensorTypeEnum}}"
                                Text="{Binding CurrentSelectCylinder.SensorType}" />
                            <TextBlock
                                Grid.Row="12"
                                Grid.Column="1"
                                Text="{DynamicResource ConfigCylinderHeaderDelayTime}" />
                            <TextBox
                                Grid.Row="12"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                Padding="0"
                                VerticalAlignment="Center"
                                HorizontalContentAlignment="Center"
                                Text="{Binding CurrentSelectCylinder.DelayTime}">
                                <TextBox.Style>
                                    <Style BasedOn="{StaticResource MaterialDesignTextBox}" TargetType="TextBox">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=None}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleOrigin}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleMoving}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Dual}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>
                            <TextBlock
                                Grid.Row="12"
                                Grid.Column="3"
                                HorizontalAlignment="Center"
                                Text="ms" />
                            <TextBlock
                                Grid.Row="13"
                                Grid.Column="1"
                                Text="{DynamicResource ConfigCylinderHeaderSensorOrigin}" />
                            <ComboBox
                                Grid.Row="13"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                DisplayMemberPath="Name"
                                ItemsSource="{Binding IOInputCollection}"
                                SelectedItem="{Binding CurrentSelectCylinder.SensorOriginInputInfo}">
                                <ComboBox.Style>
                                    <Style BasedOn="{StaticResource MaterialDesignComboBox}" TargetType="ComboBox">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=None}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleOrigin}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleMoving}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Dual}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ComboBox.Style>
                            </ComboBox>
                            <TextBlock
                                Grid.Row="14"
                                Grid.Column="1"
                                Text="{DynamicResource ConfigCylinderHeaderSensorMoving}" />
                            <ComboBox
                                Grid.Row="14"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                DisplayMemberPath="Name"
                                ItemsSource="{Binding IOInputCollection}"
                                SelectedItem="{Binding CurrentSelectCylinder.SensorMovingInputInfo}">
                                <ComboBox.Style>
                                    <Style BasedOn="{StaticResource MaterialDesignComboBox}" TargetType="ComboBox">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=None}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleOrigin}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleMoving}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Dual}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ComboBox.Style>
                            </ComboBox>
                            <CheckBox
                                Grid.Row="15"
                                Grid.Column="0"
                                Grid.ColumnSpan="2"
                                Margin="5,0,0,0"
                                Content="{DynamicResource ShieldedOriginSensor}"
                                IsChecked="{Binding CurrentSelectCylinder.ShiedSensorOriginInput}">
                                <CheckBox.Style>
                                    <Style BasedOn="{StaticResource MaterialDesignCheckBox}" TargetType="CheckBox">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=None}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleOrigin}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleMoving}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Dual}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </CheckBox.Style>
                            </CheckBox>
                            <TextBlock
                                Grid.Row="16"
                                Grid.Column="1"
                                Text="{DynamicResource ShieldedOriginSensorDelay}" />
                            <TextBox
                                Grid.Row="16"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                Padding="0"
                                VerticalAlignment="Center"
                                HorizontalContentAlignment="Center"
                                Text="{Binding CurrentSelectCylinder.ShiedSensorOriginInputDelayTime}">
                                <TextBox.Style>
                                    <Style BasedOn="{StaticResource MaterialDesignTextBox}" TargetType="TextBox">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=None}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleOrigin}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleMoving}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Dual}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>
                            <TextBlock
                                Grid.Row="16"
                                Grid.Column="3"
                                HorizontalAlignment="Center"
                                Text="ms" />
                            <CheckBox
                                Grid.Row="17"
                                Grid.Column="0"
                                Grid.ColumnSpan="2"
                                Margin="5,0,0,0"
                                Content="{DynamicResource ShieldedMovingSensor}"
                                IsChecked="{Binding CurrentSelectCylinder.ShiedSensorMovingInput}">
                                <CheckBox.Style>
                                    <Style BasedOn="{StaticResource MaterialDesignCheckBox}" TargetType="CheckBox">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=None}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleOrigin}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleMoving}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Dual}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </CheckBox.Style>
                            </CheckBox>
                            <TextBlock
                                Grid.Row="18"
                                Grid.Column="1"
                                Text="{DynamicResource ShieldedMovingSensorDelay}" />
                            <TextBox
                                Grid.Row="18"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                Padding="0"
                                VerticalAlignment="Center"
                                HorizontalContentAlignment="Center"
                                Text="{Binding CurrentSelectCylinder.ShiedSensorMovingInputDelayTime}">
                                <TextBox.Style>
                                    <Style BasedOn="{StaticResource MaterialDesignTextBox}" TargetType="TextBox">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=None}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleOrigin}" Value="True">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=SingleMoving}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding CurrentSelectCylinder.SensorType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Dual}" Value="True">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>
                            <TextBlock
                                Grid.Row="18"
                                Grid.Column="3"
                                HorizontalAlignment="Center"
                                Text="ms" />
                            <TextBlock
                                Grid.Row="19"
                                Grid.Column="1"
                                Text="{DynamicResource Group}" />
                            <ComboBox
                                Grid.Row="19"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                HorizontalContentAlignment="Center"
                                IsEditable="True"
                                ItemsSource="{Binding CylinderGroupCollection}"
                                Text="{Binding CurrentSelectCylinder.Group}" />
                        </Grid>
                    </ScrollViewer>

                    <Border
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="2,2,0,0"
                        Background="{StaticResource AppleHeavyBackGroundBrush}">
                        <Border
                            Margin="4"
                            BorderBrush="{StaticResource ApplelHeavyTextForegroundBrush}"
                            BorderThickness="1"
                            CornerRadius="5">
                            <ListBox ItemsSource="{Binding MessageList}">
                                <ListBox.ContextMenu>
                                    <ContextMenu DataContext="{Binding Data, Source={StaticResource BindingProxy}}">
                                        <MenuItem
                                            Command="{Binding MsgClearCommand}"
                                            Header="{DynamicResource ClearLog}"
                                            Icon="{materialDesign:PackIcon Kind=Close}" />
                                        <MenuItem
                                            Command="{Binding OpenLogDirectoryCommand}"
                                            Header="{DynamicResource OpenLog}"
                                            Icon="{materialDesign:PackIcon Kind=FolderSearchOutline}" />
                                    </ContextMenu>
                                </ListBox.ContextMenu>
                                <i:Interaction.Behaviors>
                                    <listboxEx:ListBoxScrollToBottomExtensions />
                                </i:Interaction.Behaviors>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel>
                                            <TextBlock Text="{Binding Time, StringFormat={}{0:HH:mm:ss:}}" />
                                            <TextBlock
                                                Margin="5,0,0,0"
                                                Text="{Binding Text}"
                                                TextWrapping="Wrap" />
                                        </DockPanel>
                                        <DataTemplate.Triggers>
                                            <DataTrigger Binding="{Binding Path=Degree}" Value="INFO">
                                                <Setter Property="ListBoxItem.Foreground" Value="Black" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Path=Degree}" Value="DEBUG">
                                                <Setter Property="ListBoxItem.Foreground" Value="Black" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Path=Degree}" Value="WARN">
                                                <Setter Property="ListBoxItem.Foreground" Value="{StaticResource MessageOrangeBrush}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Path=Degree}" Value="ERROR">
                                                <Setter Property="ListBoxItem.Foreground" Value="{StaticResource MessageRedBrush}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Path=Degree}" Value="FATAL">
                                                <Setter Property="ListBoxItem.Foreground" Value="{StaticResource MessageRedBrush}" />
                                            </DataTrigger>
                                        </DataTemplate.Triggers>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Border>
                    </Border>
                </Grid>
            </Grid>
        </materialDesign:DrawerHost>
    </materialDesign:DialogHost>
</UserControl>
