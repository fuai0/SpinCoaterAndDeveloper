<UserControl
    x:Class="SpinCoaterAndDeveloper.App.Views.MCParmeterConfigView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:bp="clr-namespace:PrismAutomationPlatformExt;assembly=PrismAutomationPlatformExt"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:listboxEx="clr-namespace:PrismAutomationPlatformExt;assembly=PrismAutomationPlatformExt"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:motionControlModel="clr-namespace:SpinCoaterAndDeveloper.Shared.Models.MotionControlModels;assembly=SpinCoaterAndDeveloper.Shared"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:viewmodels="clr-namespace:SpinCoaterAndDeveloper.App.ViewModels"
    d:DataContext="{d:DesignInstance Type=viewmodels:MCParmeterConfigViewModel}"
    d:DesignHeight="600"
    d:DesignWidth="990"
    prism:ViewModelLocator.AutoWireViewModel="True"
    mc:Ignorable="d">
    <UserControl.Resources>
        <bp:BindingProxy x:Key="BindingProxy" Data="{Binding}" />
        <ObjectDataProvider
            x:Key="ParmeterTypeEnum"
            MethodName="GetValues"
            ObjectType="{x:Type sys:Enum}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="motionControlModel:ParmeterType" />
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
    </UserControl.Resources>
    <materialDesign:DialogHost>
        <materialDesign:DrawerHost IsRightDrawerOpen="{Binding IsRightDrawerOpen}">
            <materialDesign:DrawerHost.RightDrawerContent>
                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                    <DockPanel
                        Width="300"
                        Margin="10,10"
                        VerticalAlignment="Top"
                        LastChildFill="False">
                        <DockPanel.Resources>
                            <Style BasedOn="{StaticResource MaterialDesignTextBox}" TargetType="{x:Type TextBox}">
                                <Setter Property="Margin" Value="5,5,5,0" />
                                <Setter Property="Padding" Value="0" />
                            </Style>
                            <Style TargetType="TextBlock">
                                <Setter Property="Margin" Value="5,5,5,0" />
                            </Style>
                        </DockPanel.Resources>
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource Name}" />
                        <TextBox
                            materialDesign:HintAssist.Hint="{DynamicResource MustAndUniqueHint}"
                            DockPanel.Dock="Top"
                            Text="{Binding NewPar.Name}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource Number}" />
                        <TextBox DockPanel.Dock="Top" Text="{Binding NewPar.Number}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource EnterCNName}" />
                        <TextBox DockPanel.Dock="Top" Text="{Binding NewPar.CNName}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource EnterENName}" />
                        <TextBox DockPanel.Dock="Top" Text="{Binding NewPar.ENName}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource EnterVNName}" />
                        <TextBox DockPanel.Dock="Top" Text="{Binding NewPar.VNName}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource Value}" />
                        <TextBox
                            materialDesign:HintAssist.Hint="{DynamicResource Required}"
                            DockPanel.Dock="Top"
                            Text="{Binding NewPar.Data}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource DataType}" />
                        <ComboBox
                            Margin="5,5,5,0"
                            HorizontalContentAlignment="Center"
                            DockPanel.Dock="Top"
                            ItemsSource="{Binding Source={StaticResource ParmeterTypeEnum}}"
                            Text="{Binding NewPar.DataType}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource Unit}" />
                        <TextBox DockPanel.Dock="Top" Text="{Binding NewPar.Unit}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource Group}" />
                        <ComboBox
                            Margin="5,5,5,0"
                            HorizontalContentAlignment="Center"
                            DockPanel.Dock="Top"
                            IsEditable="True"
                            ItemsSource="{Binding ParmeterGroupCollection}"
                            Text="{Binding NewPar.Group}" />
                        <TextBlock DockPanel.Dock="Top" Text="{DynamicResource Remark}" />
                        <TextBox DockPanel.Dock="Top" Text="{Binding NewPar.Backup}" />
                        <Button
                            Margin="5,5,5,0"
                            Command="{Binding AddParCommand}"
                            Content="{DynamicResource AddParameter}"
                            DockPanel.Dock="Top" />
                    </DockPanel>
                </ScrollViewer>
            </materialDesign:DrawerHost.RightDrawerContent>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="4*" />
                </Grid.ColumnDefinitions>
                <Grid Margin="0,0,2,0" Background="{StaticResource AppleHeavyBackGroundBrush}">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <ListBox
                        DisplayMemberPath="Name"
                        ItemsSource="{Binding ParmeterCollection}"
                        SelectedItem="{Binding CurrentSelectPar}" />
                    <StackPanel Grid.Row="1" Margin="0,8,0,0">
                        <Grid Margin="4,0,4,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="4*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Margin="0,0,2,0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="14"
                                Text="{DynamicResource SelectGroup}" />
                            <ComboBox
                                x:Name="ParSelect"
                                Grid.Column="1"
                                Margin="2,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                ItemsSource="{Binding ParmeterGroupCollection}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding GroupChangedCommand}" CommandParameter="{Binding ElementName=ParSelect, Path=SelectedValue}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </ComboBox>
                        </Grid>
                        <UniformGrid Margin="4,8,4,0" Columns="2">
                            <Button
                                Margin="0,0,2,0"
                                Padding="0"
                                Command="{Binding ShowAllParsCommand}"
                                Content="{DynamicResource ShowAllParameters}" />
                            <Button
                                Margin="2,0,0,0"
                                Padding="0"
                                Command="{Binding AddParCfgCommand}"
                                Content="{DynamicResource AddParameter}" />
                        </UniformGrid>
                        <UniformGrid Margin="4,8,4,0" Columns="2">
                            <Button
                                Margin="0,0,2,0"
                                Padding="0"
                                Command="{Binding DeleteParCommand}"
                                Content="{DynamicResource DeleteParameter}"
                                Foreground="{StaticResource SecondaryAccentForegroundBrush}" />
                        </UniformGrid>
                        <UniformGrid Margin="4,8,4,8" Columns="2">
                            <Button
                                Margin="0,0,2,0"
                                Padding="0"
                                Command="{Binding SaveSelectedParCommand}"
                                Content="{DynamicResource KeepSelected}" />
                            <Button
                                Margin="2,0,0,0"
                                Padding="0"
                                Command="{Binding SaveAllParsCommand}"
                                Content="{DynamicResource SaveAll}" />
                        </UniformGrid>
                    </StackPanel>
                </Grid>
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Border
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="2,0,0,2"
                        Background="{StaticResource AppleHeavyBackGroundBrush}"
                        CornerRadius="0">
                        <DataGrid
                            materialDesign:DataGridAssist.CellPadding="10 2 10 2"
                            materialDesign:DataGridAssist.ColumnHeaderPadding="10 2 10 2"
                            materialDesign:DataGridAssist.SelectedCellBorderBrush="Transparent"
                            AutoGenerateColumns="False"
                            Background="{StaticResource AppleHeavyBackGroundBrush}"
                            CanUserAddRows="False"
                            CanUserSortColumns="False"
                            ColumnWidth="*"
                            HeadersVisibility="All"
                            IsReadOnly="True"
                            ItemsSource="{Binding ParmeterCollection}"
                            RowHeaderWidth="1"
                            ScrollViewer.VerticalScrollBarVisibility="Visible"
                            SelectedItem="{Binding CurrentSelectPar}"
                            SelectionMode="Single">
                            <DataGrid.Resources>
                                <Style
                                    x:Key="DataGridColumnHeaderStyle"
                                    BasedOn="{StaticResource MaterialDesignDataGridTextColumnStyle}"
                                    TargetType="{x:Type TextBlock}">
                                    <Setter Property="HorizontalAlignment" Value="Center" />
                                    <Setter Property="VerticalAlignment" Value="Center" />
                                </Style>
                                <Style
                                    x:Key="DataGridColumnElementStyleDefine"
                                    BasedOn="{StaticResource MaterialDesignDataGridTextColumnStyle}"
                                    TargetType="{x:Type TextBlock}">
                                    <Setter Property="HorizontalAlignment" Value="Center" />
                                    <Setter Property="VerticalAlignment" Value="Center" />
                                </Style>
                                <Style
                                    x:Key="DataGridColumnCellTemplateHeaderDefine"
                                    BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}"
                                    TargetType="{x:Type DataGridColumnHeader}">
                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                </Style>
                                <Style
                                    x:Key="DataGridColumnCellTemplateTextBoxDefine"
                                    BasedOn="{StaticResource MaterialDesignTextBox}"
                                    TargetType="TextBox">
                                    <Setter Property="VerticalAlignment" Value="Center" />
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                    <Setter Property="Block.TextAlignment" Value="Center" />
                                </Style>
                            </DataGrid.Resources>
                            <!--<DataGrid.ContextMenu>
                                <ContextMenu DataContext="{Binding Data, Source={StaticResource BindingProxy}}">
                                    <MenuItem
                                        Command="{Binding AddParmeterCommand}"
                                        Header="{DynamicResource AddMCParmeter}"
                                        Icon="{materialDesign:PackIcon Kind=PlusBoxMultipleOutline}" />
                                    <MenuItem
                                        Command="{Binding DeleteParmeterCommand}"
                                        CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}"
                                        Header="{DynamicResource DeleteMCParmeter}"
                                        Icon="{materialDesign:PackIcon Kind=MinusBoxMultipleOutline}" />
                                </ContextMenu>
                            </DataGrid.ContextMenu>-->
                            <DataGrid.Columns>
                                <DataGridTextColumn Binding="{Binding Number, Mode=OneWay}" ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Number}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Binding="{Binding Name, Mode=OneWay}" ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Name}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Binding="{Binding CNName, Mode=OneWay}" ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource CNName}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Binding="{Binding ENName, Mode=OneWay}" ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource ENName}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Binding="{Binding VNName, Mode=OneWay}" ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource VNName}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Binding="{Binding Data, Mode=OneWay}" ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Value}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Binding="{Binding DataType, Mode=OneWay}" ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource DataType}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Binding="{Binding Unit, Mode=OneWay}" ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Unit}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Binding="{Binding Group, Mode=OneWay}" ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Group}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Binding="{Binding Backup, Mode=OneWay}" ElementStyle="{StaticResource DataGridColumnElementStyleDefine}">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}" TargetType="{x:Type DataGridColumnHeader}">
                                            <Setter Property="Content" Value="{DynamicResource Remark}" />
                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                </DataGridTextColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>

                    <ScrollViewer
                        Grid.Row="1"
                        Grid.Column="0"
                        Margin="2,2,2,0"
                        Background="{StaticResource AppleHeavyBackGroundBrush}">
                        <Grid>
                            <Grid.Resources>
                                <Style BasedOn="{StaticResource MaterialDesignTextBlock}" TargetType="TextBlock">
                                    <Setter Property="Margin" Value="0,0,5,0" />
                                    <Setter Property="HorizontalAlignment" Value="Right" />
                                    <Setter Property="VerticalAlignment" Value="Center" />
                                </Style>
                                <Style BasedOn="{StaticResource MaterialDesignTextBox}" TargetType="TextBox">
                                    <Setter Property="Margin" Value="5,0,0,0" />
                                    <Setter Property="VerticalAlignment" Value="Center" />
                                    <Setter Property="Block.TextAlignment" Value="Center" />
                                    <Setter Property="Padding" Value="0" />
                                </Style>
                            </Grid.Resources>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="3*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="0"
                                Text="{DynamicResource Number}" />
                            <TextBox
                                Grid.Row="0"
                                Grid.Column="1"
                                Text="{Binding CurrentSelectPar.Number, UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                Text="{DynamicResource Name}" />
                            <TextBox
                                Grid.Row="1"
                                Grid.Column="1"
                                Text="{Binding CurrentSelectPar.Name, UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock
                                Grid.Row="2"
                                Grid.Column="0"
                                Text="{DynamicResource CNName}" />
                            <TextBox
                                Grid.Row="2"
                                Grid.Column="1"
                                Text="{Binding CurrentSelectPar.CNName, UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock
                                Grid.Row="3"
                                Grid.Column="0"
                                Text="{DynamicResource ENName}" />
                            <TextBox
                                Grid.Row="3"
                                Grid.Column="1"
                                Text="{Binding CurrentSelectPar.ENName, UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock
                                Grid.Row="4"
                                Grid.Column="0"
                                Text="{DynamicResource VNName}" />
                            <TextBox
                                Grid.Row="4"
                                Grid.Column="1"
                                Text="{Binding CurrentSelectPar.VNName, UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock
                                Grid.Row="5"
                                Grid.Column="0"
                                Text="{DynamicResource Value}" />
                            <TextBox
                                Grid.Row="5"
                                Grid.Column="1"
                                Text="{Binding CurrentSelectPar.Data, UpdateSourceTrigger=PropertyChanged}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="LostFocus">
                                        <i:InvokeCommandAction Command="{Binding DataCheckCommand}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </TextBox>
                            <TextBlock
                                Grid.Row="6"
                                Grid.Column="0"
                                Text="{DynamicResource DataType}" />
                            <ComboBox
                                Grid.Row="6"
                                Grid.Column="1"
                                Margin="5,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                ItemsSource="{Binding Source={StaticResource ParmeterTypeEnum}}"
                                Text="{Binding CurrentSelectPar.DataType}" />
                            <TextBlock
                                Grid.Row="7"
                                Grid.Column="0"
                                Text="{DynamicResource Unit}" />
                            <TextBox
                                Grid.Row="7"
                                Grid.Column="1"
                                Text="{Binding CurrentSelectPar.Unit, UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock
                                Grid.Row="8"
                                Grid.Column="0"
                                Text="{DynamicResource Group}" />
                            <ComboBox
                                Grid.Row="8"
                                Grid.Column="1"
                                Margin="5,0,0,0"
                                Padding="0"
                                HorizontalContentAlignment="Center"
                                IsEditable="True"
                                ItemsSource="{Binding ParmeterGroupCollection}"
                                Text="{Binding CurrentSelectPar.Group}" />
                            <TextBlock
                                Grid.Row="9"
                                Grid.Column="0"
                                Text="{DynamicResource Remark}" />
                            <TextBox
                                Grid.Row="9"
                                Grid.Column="1"
                                Text="{Binding CurrentSelectPar.Backup, UpdateSourceTrigger=PropertyChanged}" />
                        </Grid>
                    </ScrollViewer>

                    <Border
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="2,2,0,0"
                        Background="{StaticResource AppleHeavyBackGroundBrush}">
                        <Border
                            Margin="4"
                            BorderBrush="{StaticResource ApplelHeavyTextForegroundBrush}"
                            BorderThickness="1"
                            CornerRadius="5">
                            <ListBox ItemsSource="{Binding MessageList}">
                                <ListBox.ContextMenu>
                                    <ContextMenu DataContext="{Binding Data, Source={StaticResource BindingProxy}}">
                                        <MenuItem
                                            Command="{Binding MsgClearCommand}"
                                            Header="{DynamicResource ClearLog}"
                                            Icon="{materialDesign:PackIcon Kind=Close}" />
                                        <MenuItem
                                            Command="{Binding OpenLogDirectoryCommand}"
                                            Header="{DynamicResource OpenLog}"
                                            Icon="{materialDesign:PackIcon Kind=FolderSearchOutline}" />
                                    </ContextMenu>
                                </ListBox.ContextMenu>
                                <i:Interaction.Behaviors>
                                    <listboxEx:ListBoxScrollToBottomExtensions />
                                </i:Interaction.Behaviors>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel>
                                            <TextBlock Text="{Binding Time, StringFormat={}{0:HH:mm:ss:}}" />
                                            <TextBlock
                                                Margin="5,0,0,0"
                                                Text="{Binding Text}"
                                                TextWrapping="Wrap" />
                                        </DockPanel>
                                        <DataTemplate.Triggers>
                                            <DataTrigger Binding="{Binding Path=Degree}" Value="INFO">
                                                <Setter Property="ListBoxItem.Foreground" Value="Black" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Path=Degree}" Value="DEBUG">
                                                <Setter Property="ListBoxItem.Foreground" Value="Black" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Path=Degree}" Value="WARN">
                                                <Setter Property="ListBoxItem.Foreground" Value="{StaticResource MessageOrangeBrush}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Path=Degree}" Value="ERROR">
                                                <Setter Property="ListBoxItem.Foreground" Value="{StaticResource MessageRedBrush}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Path=Degree}" Value="FATAL">
                                                <Setter Property="ListBoxItem.Foreground" Value="{StaticResource MessageRedBrush}" />
                                            </DataTrigger>
                                        </DataTemplate.Triggers>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Border>
                    </Border>
                </Grid>
            </Grid>

        </materialDesign:DrawerHost>
    </materialDesign:DialogHost>
</UserControl>
